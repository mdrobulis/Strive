<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adlerian Goal Pursuit</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .glow-text {
            text-shadow: 0 0 10px rgba(74, 222, 128, 0.8), 0 0 20px rgba(74, 222, 128, 0.6);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 50%, #4a5568 100%);
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen text-gray-100 p-4">
    <div class="max-w-2xl mx-auto">
        <h1 class="text-3xl font-bold text-center mb-8 text-green-400">Adlerian Goal Pursuit</h1>
        
        <!-- Goal Section -->
        <div class="mb-8">
            <label for="goal" class="block text-lg font-medium mb-2">Your Primary Goal</label>
            <div id="goal-display" class="hidden text-5xl font-bold mb-4 text-green-400 glow-text break-words"></div>
            <input type="text" id="goal" placeholder="Enter your life goal..." 
                   class="w-full p-4 rounded-lg bg-gray-700 border border-gray-600 focus:border-green-400 focus:ring-1 focus:ring-green-400 text-xl">
        </div>
        
        <!-- Steps Section -->
        <div class="mb-6">
            <label for="step" class="block text-lg font-medium mb-2">Next Small Step</label>
            <div class="flex gap-2">
                <input type="text" id="step" placeholder="What's your next small step?" 
                       class="flex-1 p-3 rounded-lg bg-gray-700 border border-gray-600 focus:border-green-400 focus:ring-1 focus:ring-green-400">
                <button id="add-step" class="px-4 py-2 bg-green-600 hover:bg-green-500 rounded-lg font-medium">Add</button>
            </div>
        </div>
        
        <!-- Steps List -->
        <div id="steps-container" class="space-y-2"></div>
        
        <!-- Quote Modal -->
        <div id="quote-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center hidden z-50">
            <div class="bg-gray-800 rounded-lg p-6 max-w-md mx-4 border border-green-400">
                <div id="quote-content" class="text-lg italic mb-4"></div>
                <div id="quote-author" class="text-right text-green-400 font-medium"></div>
                <div class="mt-6 flex justify-between">
                    <button id="close-quote" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Adler quotes
        const adlerQuotes = [
            {text: "The only normal people are the ones you don't know very well.", author: "Alfred Adler"},
            {text: "Follow your heart but take your brain with you.", author: "Alfred Adler"},
            {text: "Trust only movement. Life happens at the level of events, not of words.", author: "Alfred Adler"},
            {text: "It is easier to fight for one's principles than to live up to them.", author: "Alfred Adler"},
            {text: "The chief danger in life is that you may take too many precautions.", author: "Alfred Adler"},
            {text: "To be a human being means to possess a feeling of inferiority which constantly presses towards its own conquest.", author: "Alfred Adler"},
            {text: "Meanings are not determined by situations, but we determine ourselves by the meanings we give to situations.", author: "Alfred Adler"},
            {text: "The important thing is not what one is born with, but what use one makes of that equipment.", author: "Alfred Adler"},
            {text: "Overcoming difficulties leads to courage, self-respect, and knowing yourself.", author: "Alfred Adler"},
            {text: "The goal is to transform our inferiority feelings into a striving for superiority that benefits others as well as ourselves.", author: "Alfred Adler"},
            {text: "The science of the mind can only have for its proper goal the understanding of human nature by every human being.", author: "Alfred Adler"},
            {text: "We cannot say that if a child is badly nourished he will become a criminal. We must see what conclusion the child has drawn.", author: "Alfred Adler"},
            {text: "The truth is often a terrible weapon of aggression. It is possible to lie, and even to murder, with the truth.", author: "Alfred Adler"},
            {text: "No experience is a cause of success or failure. We do not suffer from the shock of our experiences, but we make out of them just what suits our purposes.", author: "Alfred Adler"},
            {text: "The individual's pattern of life is a unity because it has grown out of the difficulties of early life and out of the striving for a goal.", author: "Alfred Adler"},
            {text: "The striving for significance, this sense of yearning, always points out to us that all psychological phenomena contain a movement that starts from a feeling of inferiority and reach upward.", author: "Alfred Adler"},
            {text: "The greater the feeling of inferiority that has been experienced, the more powerful is the urge to conquest and the more violent the emotional agitation.", author: "Alfred Adler"},
            {text: "To all those who walk the path of human cooperation war must appear loathsome and inhuman.", author: "Alfred Adler"},
            {text: "Our modern states are preparing to destroy each other; hence the feelings of insecurity and the sense of inferiority in the individual.", author: "Alfred Adler"},
            {text: "The educator must believe in the potential power of his pupil, and he must employ all his art in seeking to bring his pupil to experience this power.", author: "Alfred Adler"}
        ];

        // App state
        const state = {
            goal: '',
            steps: []
        };

        // DOM elements
        const goalInput = document.getElementById('goal');
        const goalDisplay = document.getElementById('goal-display');
        const stepInput = document.getElementById('step');
        const addStepBtn = document.getElementById('add-step');
        const stepsContainer = document.getElementById('steps-container');
        const quoteModal = document.getElementById('quote-modal');
        const quoteContent = document.getElementById('quote-content');
        const quoteAuthor = document.getElementById('quote-author');
        const closeQuoteBtn = document.getElementById('close-quote');

        // Initialize the app
        function init() {
            loadState();
            renderGoal();
            renderSteps();
            
            // Event listeners
            goalInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    saveGoal();
                }
            });
            
            goalInput.addEventListener('blur', saveGoal);
            
            addStepBtn.addEventListener('click', addStep);
            stepInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    addStep();
                }
            });
            
            closeQuoteBtn.addEventListener('click', hideQuote);
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && !quoteModal.classList.contains('hidden')) {
                    hideQuote();
                }
            });
        }

        // Load state from localStorage
        function loadState() {
            const savedState = localStorage.getItem('adlerianGoalApp');
            if (savedState) {
                Object.assign(state, JSON.parse(savedState));
            }
        }

        // Save state to localStorage
        function saveState() {
            localStorage.setItem('adlerianGoalApp', JSON.stringify(state));
        }

        // Save goal
        function saveGoal() {
            state.goal = goalInput.value.trim();
            if (state.goal) {
                goalDisplay.textContent = state.goal;
                goalDisplay.classList.remove('hidden');
                goalInput.classList.add('hidden');
                saveState();
            }
        }

        // Render goal
        function renderGoal() {
            if (state.goal) {
                goalDisplay.textContent = state.goal;
                goalDisplay.classList.remove('hidden');
                goalInput.classList.add('hidden');
                goalInput.value = state.goal;
            } else {
                goalDisplay.classList.add('hidden');
                goalInput.classList.remove('hidden');
            }
        }

        // Add step
        function addStep() {
            const stepText = stepInput.value.trim();
            if (!stepText) return;
            
            if (state.steps.filter(step => !step.completed).length >= 5) {
                alert("You can have maximum 5 uncompleted steps at a time. Complete or remove some first.");
                return;
            }
            
            // Add to beginning of array (top of list)
            state.steps.unshift({
                text: stepText,
                completed: false,
                id: Date.now()
            });
            
            stepInput.value = '';
            saveState();
            renderSteps();
            showRandomQuote();
        }

        // Toggle step completion
        function toggleStepCompletion(id) {
            const step = state.steps.find(step => step.id === id);
            if (step) {
                step.completed = !step.completed;
                saveState();
                renderSteps();
                if (step.completed) {
                    showRandomQuote();
                }
            }
        }

        // Remove step
        function removeStep(id) {
            state.steps = state.steps.filter(step => step.id !== id);
            saveState();
            renderSteps();
        }

        // Render steps
        function renderSteps() {
            stepsContainer.innerHTML = '';
            
            if (state.steps.length === 0) {
                const emptyMsg = document.createElement('div');
                emptyMsg.className = 'text-center py-4 text-gray-400';
                emptyMsg.textContent = 'No steps added yet. Add your first small step above!';
                stepsContainer.appendChild(emptyMsg);
                return;
            }
            
            state.steps.forEach(step => {
                const stepEl = document.createElement('div');
                stepEl.className = `bg-gray-700 p-3 rounded-lg flex items-center fade-in ${step.completed ? 'opacity-70' : ''}`;
                
                // Checkbox
                const checkbox = document.createElement('div');
                checkbox.className = `w-6 h-6 rounded-md border-2 mr-3 flex-shrink-0 cursor-pointer transition-colors ${step.completed ? 'bg-green-500 border-green-500' : 'border-gray-400 hover:border-green-400'}`;
                checkbox.innerHTML = step.completed ? '✓' : '';
                checkbox.addEventListener('click', () => toggleStepCompletion(step.id));
                
                // Text
                const text = document.createElement('div');
                text.className = `flex-1 ${step.completed ? 'line-through text-gray-400' : ''}`;
                text.textContent = step.text;
                
                // Remove button
                const removeBtn = document.createElement('button');
                removeBtn.className = 'ml-2 text-gray-400 hover:text-red-400';
                removeBtn.innerHTML = '&times;';
                removeBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    removeStep(step.id);
                });
                
                stepEl.appendChild(checkbox);
                stepEl.appendChild(text);
                stepEl.appendChild(removeBtn);
                stepsContainer.appendChild(stepEl);
            });
        }

        // Show random quote
        function showRandomQuote() {
            const quote = adlerQuotes[Math.floor(Math.random() * adlerQuotes.length)];
            quoteContent.textContent = `"${quote.text}"`;
            quoteAuthor.textContent = `— ${quote.author}`;
            quoteModal.classList.remove('hidden');
        }

        // Hide quote modal
        function hideQuote() {
            quoteModal.classList.add('hidden');
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>